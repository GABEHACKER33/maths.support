<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Maths Support - Educational Games</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Plus+Jakarta+Sans:wght@600;700;800&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            /* Light mode colors */
            --primary: #4F46E5;
            --primary-light: #6366F1;
            --primary-dark: #4338CA;
            --secondary: #10B981;
            --bg: #F9FAFB;
            --bg-card: #FFFFFF;
            --text: #111827;
            --text-secondary: #6B7280;
            --border: #E5E7EB;
            --sidebar-bg: #FFFFFF;
            --shadow: rgba(0, 0, 0, 0.1);
            --overlay: rgba(0, 0, 0, 0.5);
        }

        body.dark-mode {
            /* Dark mode colors */
            --primary: #6366F1;
            --primary-light: #818CF8;
            --primary-dark: #4F46E5;
            --secondary: #34D399;
            --bg: #0F172A;
            --bg-card: #1E293B;
            --text: #F1F5F9;
            --text-secondary: #94A3B8;
            --border: #334155;
            --sidebar-bg: #1E293B;
            --shadow: rgba(0, 0, 0, 0.3);
            --overlay: rgba(0, 0, 0, 0.7);
        }

        body {
            font-family: 'Inter', sans-serif;
            background: var(--bg);
            color: var(--text);
            transition: background 0.3s, color 0.3s;
        }

        /* Layout */
        .app-container {
            display: flex;
            height: 100vh;
        }

        /* Sidebar */
        .sidebar {
            width: 280px;
            background: var(--sidebar-bg);
            border-right: 1px solid var(--border);
            padding: 24px;
            display: flex;
            flex-direction: column;
            transition: all 0.3s;
            position: relative;
            z-index: 100;
        }

        .sidebar.collapsed {
            width: 80px;
        }

        .logo-section {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 32px;
        }

        .logo-icon {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, var(--primary), var(--primary-light));
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            flex-shrink: 0;
        }

        .logo-text {
            font-family: 'Plus Jakarta Sans', sans-serif;
            font-size: 1.5rem;
            font-weight: 800;
            color: var(--text);
            white-space: nowrap;
            transition: opacity 0.3s;
        }

        .sidebar.collapsed .logo-text,
        .sidebar.collapsed .nav-text,
        .sidebar.collapsed .game-count {
            opacity: 0;
            width: 0;
            overflow: hidden;
        }

        .toggle-sidebar {
            position: absolute;
            top: 24px;
            right: -12px;
            width: 24px;
            height: 24px;
            background: var(--primary);
            border: 2px solid var(--bg);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            color: white;
            font-size: 12px;
            transition: all 0.3s;
        }

        .toggle-sidebar:hover {
            background: var(--primary-dark);
            transform: scale(1.1);
        }

        .search-box {
            position: relative;
            margin-bottom: 24px;
        }

        .search-box input {
            width: 100%;
            padding: 12px 16px 12px 40px;
            background: var(--bg);
            border: 1px solid var(--border);
            border-radius: 10px;
            color: var(--text);
            font-family: 'Inter', sans-serif;
            font-size: 0.95rem;
            transition: all 0.3s;
        }

        .search-box input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.1);
        }

        .search-icon {
            position: absolute;
            left: 12px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-secondary);
            font-size: 18px;
        }

        .nav-section {
            margin-bottom: 32px;
            flex: 1;
            overflow-y: auto;
        }

        .nav-title {
            font-size: 0.75rem;
            font-weight: 600;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 12px;
            transition: opacity 0.3s;
        }

        .nav-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 16px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.2s;
            margin-bottom: 6px;
            position: relative;
            overflow: hidden;
        }

        .nav-item:hover {
            background: var(--bg);
        }

        .nav-item.active {
            background: var(--primary);
            color: white;
        }

        .nav-icon {
            font-size: 20px;
            flex-shrink: 0;
        }

        .nav-text {
            flex: 1;
            font-weight: 500;
            white-space: nowrap;
            transition: opacity 0.3s;
        }

        .game-count {
            background: var(--bg);
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 0.75rem;
            font-weight: 600;
            color: var(--text-secondary);
            transition: opacity 0.3s;
        }

        .nav-item.active .game-count {
            background: rgba(255, 255, 255, 0.2);
            color: white;
        }

        .theme-toggle {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 16px;
            background: var(--bg);
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .theme-toggle:hover {
            background: var(--border);
        }

        .theme-icon {
            font-size: 20px;
        }

        /* Main content */
        .main-content {
            flex: 1;
            overflow-y: auto;
            padding: 32px;
        }

        .header {
            margin-bottom: 32px;
        }

        .header h1 {
            font-family: 'Plus Jakarta Sans', sans-serif;
            font-size: 2rem;
            font-weight: 800;
            margin-bottom: 8px;
            color: var(--text);
        }

        .header p {
            color: var(--text-secondary);
            font-size: 1rem;
        }

        /* Games grid */
        .games-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
            gap: 24px;
        }

        .game-card {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 16px;
            overflow: hidden;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 1px 3px var(--shadow);
        }

        .game-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 24px var(--shadow);
            border-color: var(--primary);
        }

        .game-thumbnail {
            width: 100%;
            height: 180px;
            background: linear-gradient(135deg, var(--primary), var(--primary-light));
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 4rem;
            position: relative;
        }

        .game-info {
            padding: 20px;
        }

        .game-title {
            font-weight: 700;
            font-size: 1.1rem;
            margin-bottom: 8px;
            color: var(--text);
        }

        .game-category {
            display: inline-block;
            padding: 4px 12px;
            background: var(--bg);
            border-radius: 6px;
            font-size: 0.8rem;
            color: var(--primary);
            font-weight: 600;
        }

        /* Game modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--overlay);
            z-index: 1000;
            animation: fadeIn 0.3s;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .modal.active {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            width: 90%;
            max-width: 1200px;
            height: 90%;
            background: var(--bg-card);
            border-radius: 20px;
            padding: 24px;
            position: relative;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            display: flex;
            flex-direction: column;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 16px;
            border-bottom: 1px solid var(--border);
        }

        .modal-title {
            font-family: 'Plus Jakarta Sans', sans-serif;
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--text);
        }

        .close-btn {
            background: var(--bg);
            border: 1px solid var(--border);
            color: var(--text);
            font-size: 1.5rem;
            width: 40px;
            height: 40px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .close-btn:hover {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }

        .game-frame {
            flex: 1;
            border: 1px solid var(--border);
            border-radius: 12px;
            background: #000;
        }

        .fullscreen-btn {
            position: absolute;
            bottom: 32px;
            right: 32px;
            background: var(--primary);
            border: none;
            color: white;
            padding: 12px 24px;
            border-radius: 10px;
            cursor: pointer;
            font-family: 'Inter', sans-serif;
            font-weight: 600;
            font-size: 0.95rem;
            transition: all 0.3s;
            box-shadow: 0 4px 12px rgba(79, 70, 229, 0.3);
        }

        .fullscreen-btn:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(79, 70, 229, 0.4);
        }

        /* Mobile responsive */
        @media (max-width: 768px) {
            .sidebar {
                position: fixed;
                left: -280px;
                height: 100vh;
                z-index: 200;
            }

            .sidebar.mobile-open {
                left: 0;
            }

            .sidebar.collapsed {
                left: -80px;
            }

            .main-content {
                padding: 20px;
            }

            .games-grid {
                grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
                gap: 16px;
            }

            .modal-content {
                width: 95%;
                height: 85%;
                padding: 16px;
            }

            .toggle-sidebar {
                display: none;
            }
        }

        .mobile-menu {
            display: none;
            position: fixed;
            top: 20px;
            left: 20px;
            z-index: 150;
            background: var(--primary);
            color: white;
            width: 44px;
            height: 44px;
            border-radius: 12px;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(79, 70, 229, 0.3);
        }

        @media (max-width: 768px) {
            .mobile-menu {
                display: flex;
            }
        }

        .overlay-backdrop {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 150;
        }

        .overlay-backdrop.active {
            display: block;
        }
    </style>
</head>
<body>
    <div class="app-container">
        <!-- Sidebar -->
        <aside class="sidebar" id="sidebar">
            <div class="toggle-sidebar" id="toggleSidebar">‚óÄ</div>
            
            <div class="logo-section">
                <div class="logo-icon">üìê</div>
                <div class="logo-text">Maths Support</div>
            </div>

            <div class="search-box">
                <span class="search-icon">üîç</span>
                <input type="text" id="searchInput" placeholder="Search games...">
            </div>

            <nav class="nav-section">
                <div class="nav-title">Categories</div>
                <div class="nav-item active" data-category="all">
                    <span class="nav-icon">üéÆ</span>
                    <span class="nav-text">All Games</span>
                    <span class="game-count" id="allCount">16</span>
                </div>
                <div class="nav-item" data-category="puzzle">
                    <span class="nav-icon">üß©</span>
                    <span class="nav-text">Puzzle</span>
                    <span class="game-count" id="puzzleCount">8</span>
                </div>
                <div class="nav-item" data-category="action">
                    <span class="nav-icon">‚ö°</span>
                    <span class="nav-text">Action</span>
                    <span class="game-count" id="actionCount">1</span>
                </div>
                <div class="nav-item" data-category="strategy">
                    <span class="nav-icon">üéØ</span>
                    <span class="nav-text">Strategy</span>
                    <span class="game-count" id="strategyCount">3</span>
                </div>
                <div class="nav-item" data-category="casual">
                    <span class="nav-icon">üé®</span>
                    <span class="nav-text">Casual</span>
                    <span class="game-count" id="casualCount">4</span>
                </div>
            </nav>

            <div class="theme-toggle" id="themeToggle">
                <span class="theme-icon">üåô</span>
                <span class="nav-text">Dark Mode</span>
            </div>
        </aside>

        <!-- Mobile menu button -->
        <div class="mobile-menu" id="mobileMenu">‚ò∞</div>
        <div class="overlay-backdrop" id="overlayBackdrop"></div>

        <!-- Main content -->
        <main class="main-content">
            <div class="header">
                <h1 id="categoryTitle">All Games</h1>
                <p id="categoryDesc">Browse our collection of educational games</p>
            </div>

            <div class="games-grid" id="gamesGrid"></div>
        </main>
    </div>

    <!-- Game Modal -->
    <div class="modal" id="gameModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title" id="modalTitle">Game Title</h2>
                <button class="close-btn" id="closeBtn">√ó</button>
            </div>
            <iframe class="game-frame" id="gameFrame" frameborder="0" allowfullscreen></iframe>
            <button class="fullscreen-btn" id="fullscreenBtn">‚õ∂ Fullscreen</button>
        </div>
    </div>

    <script>
        // Game database
        const games = [
            { title: '2048', category: 'puzzle', url: 'https://play2048.co/', emoji: 'üéØ' },
            { title: 'Tetris', category: 'puzzle', url: 'https://tetris.com/play-tetris', emoji: 'üß±' },
            { title: 'Snake', category: 'casual', url: 'https://playsnake.org/', emoji: 'üêç' },
            { title: 'Pac-Man', category: 'action', url: 'https://www.google.com/logos/2010/pacman10-i.html', emoji: 'üëæ' },
            { title: 'Chess', category: 'strategy', url: 'https://www.chess.com/play/computer', emoji: '‚ôüÔ∏è' },
            { title: 'Sudoku', category: 'puzzle', url: 'https://sudoku.com/', emoji: 'üî¢' },
            { title: 'Minesweeper', category: 'puzzle', url: 'https://minesweeperonline.com/', emoji: 'üí£' },
            { title: 'Solitaire', category: 'casual', url: 'https://solitaire.org/', emoji: 'üÉè' },
            { title: 'Checkers', category: 'strategy', url: 'https://www.247checkers.com/', emoji: '‚ö´' },
            { title: 'Bubble Shooter', category: 'casual', url: 'https://www.bubbleshooter.net/', emoji: 'ü´ß' },
            { title: 'Mahjong', category: 'puzzle', url: 'https://mahjong.org/', emoji: 'üÄÑ' },
            { title: 'Connect 4', category: 'strategy', url: 'https://www.mathsisfun.com/games/connect4.html', emoji: 'üî¥' },
            { title: 'Crossword', category: 'puzzle', url: 'https://www.dictionary.com/e/crossword/', emoji: 'üìù' },
            { title: 'Word Search', category: 'puzzle', url: 'https://thewordsearch.com/', emoji: 'üî§' },
            { title: 'Quiz Master', category: 'casual', url: 'https://www.sporcle.com/', emoji: '‚ùì' },
            { title: 'Memory Game', category: 'puzzle', url: 'https://www.memozor.com/', emoji: 'üß†' }
        ];

        let currentCategory = 'all';
        let searchQuery = '';

        // Category info
        const categoryInfo = {
            all: { title: 'All Games', desc: 'Browse our collection of educational games' },
            puzzle: { title: 'Puzzle Games', desc: 'Challenge your mind with brain teasers' },
            action: { title: 'Action Games', desc: 'Fast-paced exciting gameplay' },
            strategy: { title: 'Strategy Games', desc: 'Think ahead and plan your moves' },
            casual: { title: 'Casual Games', desc: 'Relax and enjoy these fun games' }
        };

        // Auto dark mode based on time
        function setThemeByTime() {
            const hour = new Date().getHours();
            const isDark = hour < 6 || hour >= 18; // Dark mode from 6 PM to 6 AM
            
            if (isDark) {
                document.body.classList.add('dark-mode');
                document.querySelector('.theme-icon').textContent = '‚òÄÔ∏è';
                document.querySelector('.theme-toggle .nav-text').textContent = 'Light Mode';
            } else {
                document.body.classList.remove('dark-mode');
                document.querySelector('.theme-icon').textContent = 'üåô';
                document.querySelector('.theme-toggle .nav-text').textContent = 'Dark Mode';
            }
        }

        // Theme toggle
        document.getElementById('themeToggle').addEventListener('click', () => {
            document.body.classList.toggle('dark-mode');
            const isDark = document.body.classList.contains('dark-mode');
            document.querySelector('.theme-icon').textContent = isDark ? '‚òÄÔ∏è' : 'üåô';
            document.querySelector('.theme-toggle .nav-text').textContent = isDark ? 'Light Mode' : 'Dark Mode';
        });

        // Sidebar toggle
        document.getElementById('toggleSidebar').addEventListener('click', () => {
            const sidebar = document.getElementById('sidebar');
            sidebar.classList.toggle('collapsed');
            document.getElementById('toggleSidebar').textContent = sidebar.classList.contains('collapsed') ? '‚ñ∂' : '‚óÄ';
        });

        // Mobile menu
        document.getElementById('mobileMenu').addEventListener('click', () => {
            document.getElementById('sidebar').classList.add('mobile-open');
            document.getElementById('overlayBackdrop').classList.add('active');
        });

        document.getElementById('overlayBackdrop').addEventListener('click', () => {
            document.getElementById('sidebar').classList.remove('mobile-open');
            document.getElementById('overlayBackdrop').classList.remove('active');
        });

        // Update counts
        function updateCounts() {
            const counts = { all: games.length, puzzle: 0, action: 0, strategy: 0, casual: 0 };
            games.forEach(game => counts[game.category]++);
            
            document.getElementById('allCount').textContent = counts.all;
            document.getElementById('puzzleCount').textContent = counts.puzzle;
            document.getElementById('actionCount').textContent = counts.action;
            document.getElementById('strategyCount').textContent = counts.strategy;
            document.getElementById('casualCount').textContent = counts.casual;
        }

        // Render games
        function renderGames() {
            const gamesGrid = document.getElementById('gamesGrid');
            const filteredGames = games.filter(game => {
                const matchesCategory = currentCategory === 'all' || game.category === currentCategory;
                const matchesSearch = game.title.toLowerCase().includes(searchQuery.toLowerCase());
                return matchesCategory && matchesSearch;
            });

            // Update header
            const info = categoryInfo[currentCategory];
            document.getElementById('categoryTitle').textContent = info.title;
            document.getElementById('categoryDesc').textContent = info.desc;

            gamesGrid.innerHTML = filteredGames.map(game => `
                <div class="game-card" onclick="openGame('${game.title}', '${game.url}')">
                    <div class="game-thumbnail">${game.emoji}</div>
                    <div class="game-info">
                        <div class="game-title">${game.title}</div>
                        <span class="game-category">${game.category.toUpperCase()}</span>
                    </div>
                </div>
            `).join('');
        }

        // Open game in modal
        function openGame(title, url) {
            const modal = document.getElementById('gameModal');
            const modalTitle = document.getElementById('modalTitle');
            const gameFrame = document.getElementById('gameFrame');

            modalTitle.textContent = title;
            gameFrame.src = url;
            modal.classList.add('active');
        }

        // Close modal
        document.getElementById('closeBtn').addEventListener('click', () => {
            const modal = document.getElementById('gameModal');
            const gameFrame = document.getElementById('gameFrame');
            modal.classList.remove('active');
            gameFrame.src = '';
        });

        // Close on background click
        document.getElementById('gameModal').addEventListener('click', (e) => {
            if (e.target.id === 'gameModal') {
                document.getElementById('closeBtn').click();
            }
        });

        // Fullscreen
        document.getElementById('fullscreenBtn').addEventListener('click', () => {
            const gameFrame = document.getElementById('gameFrame');
            if (gameFrame.requestFullscreen) {
                gameFrame.requestFullscreen();
            } else if (gameFrame.webkitRequestFullscreen) {
                gameFrame.webkitRequestFullscreen();
            } else if (gameFrame.msRequestFullscreen) {
                gameFrame.msRequestFullscreen();
            }
        });

        // Navigation items
        document.querySelectorAll('.nav-item').forEach(item => {
            item.addEventListener('click', () => {
                document.querySelectorAll('.nav-item').forEach(i => i.classList.remove('active'));
                item.classList.add('active');
                currentCategory = item.dataset.category;
                renderGames();
                
                // Close mobile menu
                document.getElementById('sidebar').classList.remove('mobile-open');
                document.getElementById('overlayBackdrop').classList.remove('active');
            });
        });

        // Search
        document.getElementById('searchInput').addEventListener('input', (e) => {
            searchQuery = e.target.value;
            renderGames();
        });

        // Keyboard shortcut to close modal
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                document.getElementById('closeBtn').click();
            }
        });

        // Initialize
        setThemeByTime();
        updateCounts();
        renderGames();
    </script>
</body>
</html>
